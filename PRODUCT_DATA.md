# Product Data Structure - SweetTrip

## Real Products Catalog

### Current Products (12 items)

#### 1. Cannoli
```json
{
  "id": "cannoli-001",
  "name": "Cannoli",
  "price": 12.99,
  "image": "https://cdn.shopify.com/s/files/1/1234/5678/products/cannoli.jpg",
  "description": "Traditional Italian dessert with sweet ricotta filling",
  "vendor": "SweetTrip",
  "handle": "cannoli",
  "weight_grams": 150,
  "status": "active",
  "images": [
    "https://cdn.shopify.com/s/files/1/1234/5678/products/cannoli.jpg",
    "https://cdn.shopify.com/s/files/1/1234/5678/products/cannoli-2.jpg"
  ]
}
```

#### 2. Labubu
```json
{
  "id": "labubu-001",
  "name": "Labubu",
  "price": 15.99,
  "image": "https://cdn.shopify.com/s/files/1/1234/5678/products/labubu.jpg",
  "description": "Limited edition collectible figure",
  "vendor": "SweetTrip",
  "handle": "labubu",
  "weight_grams": 200,
  "status": "active",
  "images": [
    "https://cdn.shopify.com/s/files/1/1234/5678/products/labubu.jpg",
    "https://cdn.shopify.com/s/files/1/1234/5678/products/labubu-2.jpg"
  ]
}
```

#### 3. World Cup 2026 Items
```json
{
  "id": "wc2026-001",
  "name": "World Cup 2026 Jersey",
  "price": 45.99,
  "image": "https://cdn.shopify.com/s/files/1/1234/5678/products/wc2026-jersey.jpg",
  "description": "Official World Cup 2026 team jersey",
  "vendor": "SweetTrip",
  "handle": "world-cup-2026-jersey",
  "weight_grams": 300,
  "status": "active",
  "images": [
    "https://cdn.shopify.com/s/files/1/1234/5678/products/wc2026-jersey.jpg"
  ]
}
```

#### 4. Traditional Candies
```json
{
  "id": "candy-001",
  "name": "Traditional Candy Mix",
  "price": 8.99,
  "image": "https://cdn.shopify.com/s/files/1/1234/5678/products/candy-mix.jpg",
  "description": "Assorted traditional candies from around the world",
  "vendor": "SweetTrip",
  "handle": "traditional-candy-mix",
  "weight_grams": 250,
  "status": "active",
  "images": [
    "https://cdn.shopify.com/s/files/1/1234/5678/products/candy-mix.jpg"
  ]
}
```

#### 5. International Treats
```json
{
  "id": "treats-001",
  "name": "International Treats Box",
  "price": 24.99,
  "image": "https://cdn.shopify.com/s/files/1/1234/5678/products/treats-box.jpg",
  "description": "Curated selection of international sweets and treats",
  "vendor": "SweetTrip",
  "handle": "international-treats-box",
  "weight_grams": 500,
  "status": "active",
  "images": [
    "https://cdn.shopify.com/s/files/1/1234/5678/products/treats-box.jpg"
  ]
}
```

#### 6. Chocolate Collection
```json
{
  "id": "chocolate-001",
  "name": "Premium Chocolate Collection",
  "price": 18.99,
  "image": "https://cdn.shopify.com/s/files/1/1234/5678/products/chocolate-collection.jpg",
  "description": "Artisanal chocolates from renowned chocolatiers",
  "vendor": "SweetTrip",
  "handle": "premium-chocolate-collection",
  "weight_grams": 400,
  "status": "active",
  "images": [
    "https://cdn.shopify.com/s/files/1/1234/5678/products/chocolate-collection.jpg"
  ]
}
```

#### 7. Gummy Bears
```json
{
  "id": "gummy-001",
  "name": "Gourmet Gummy Bears",
  "price": 6.99,
  "image": "https://cdn.shopify.com/s/files/1/1234/5678/products/gummy-bears.jpg",
  "description": "Premium gummy bears in various flavors",
  "vendor": "SweetTrip",
  "handle": "gourmet-gummy-bears",
  "weight_grams": 200,
  "status": "active",
  "images": [
    "https://cdn.shopify.com/s/files/1/1234/5678/products/gummy-bears.jpg"
  ]
}
```

#### 8. Lollipops
```json
{
  "id": "lollipop-001",
  "name": "Artisan Lollipops",
  "price": 4.99,
  "image": "https://cdn.shopify.com/s/files/1/1234/5678/products/lollipops.jpg",
  "description": "Handcrafted lollipops with unique flavors",
  "vendor": "SweetTrip",
  "handle": "artisan-lollipops",
  "weight_grams": 100,
  "status": "active",
  "images": [
    "https://cdn.shopify.com/s/files/1/1234/5678/products/lollipops.jpg"
  ]
}
```

#### 9. Hard Candies
```json
{
  "id": "hard-candy-001",
  "name": "Classic Hard Candies",
  "price": 5.99,
  "image": "https://cdn.shopify.com/s/files/1/1234/5678/products/hard-candies.jpg",
  "description": "Traditional hard candies in assorted flavors",
  "vendor": "SweetTrip",
  "handle": "classic-hard-candies",
  "weight_grams": 150,
  "status": "active",
  "images": [
    "https://cdn.shopify.com/s/files/1/1234/5678/products/hard-candies.jpg"
  ]
}
```

#### 10. Marshmallows
```json
{
  "id": "marshmallow-001",
  "name": "Gourmet Marshmallows",
  "price": 9.99,
  "image": "https://cdn.shopify.com/s/files/1/1234/5678/products/marshmallows.jpg",
  "description": "Premium marshmallows in various flavors and colors",
  "vendor": "SweetTrip",
  "handle": "gourmet-marshmallows",
  "weight_grams": 300,
  "status": "active",
  "images": [
    "https://cdn.shopify.com/s/files/1/1234/5678/products/marshmallows.jpg"
  ]
}
```

#### 11. Caramels
```json
{
  "id": "caramel-001",
  "name": "Artisan Caramels",
  "price": 11.99,
  "image": "https://cdn.shopify.com/s/files/1/1234/5678/products/caramels.jpg",
  "description": "Handmade caramels with sea salt and vanilla",
  "vendor": "SweetTrip",
  "handle": "artisan-caramels",
  "weight_grams": 250,
  "status": "active",
  "images": [
    "https://cdn.shopify.com/s/files/1/1234/5678/products/caramels.jpg"
  ]
}
```

#### 12. Gift Box
```json
{
  "id": "gift-box-001",
  "name": "SweetTrip Gift Box",
  "price": 35.99,
  "image": "https://cdn.shopify.com/s/files/1/1234/5678/products/gift-box.jpg",
  "description": "Curated gift box with assorted sweets and treats",
  "vendor": "SweetTrip",
  "handle": "sweettrip-gift-box",
  "weight_grams": 800,
  "status": "active",
  "images": [
    "https://cdn.shopify.com/s/files/1/1234/5678/products/gift-box.jpg"
  ]
}
```

## Product Data Structure

### TypeScript Interface
```typescript
export interface Product {
  id: string;
  name: string;
  price: number;
  image: string;
  description: string;
  vendor: string;
  handle: string;
  weight_grams: number;
  status: 'active' | 'inactive' | 'draft';
  images: string[];
  category?: string;
  featured?: boolean;
  stock_quantity?: number;
  tags?: string[];
  created_at?: string;
  updated_at?: string;
}
```

### Product Categories
```typescript
export interface Category {
  id: string;
  name: string;
  description: string;
  image_url: string;
  handle: string;
  parent_id?: string;
  sort_order: number;
  status: 'active' | 'inactive';
  products_count?: number;
}
```

### Featured Products
```typescript
export interface FeaturedProduct {
  id: string;
  product_id: string;
  title: string;
  description: string;
  image_url: string;
  sort_order: number;
  status: 'active' | 'inactive';
  product?: Product;
}
```

## Image URLs and CDN

### Shopify CDN Integration
- **Base URL**: `https://cdn.shopify.com/s/files/1/1234/5678/products/`
- **Image Formats**: JPG, PNG, WebP
- **Sizes**: Multiple sizes available (thumb, medium, large)
- **Optimization**: Automatic compression and format conversion

### Image Structure
```
https://cdn.shopify.com/s/files/1/1234/5678/products/
├── product-name.jpg (main image)
├── product-name-2.jpg (secondary image)
├── product-name-3.jpg (additional image)
└── product-name-thumb.jpg (thumbnail)
```

### Lazy Loading Implementation
```typescript
// LazyImage component for optimized loading
export const LazyImage: React.FC<LazyImageProps> = ({
  src,
  alt,
  className,
  placeholder = '/images/placeholder.jpg'
}) => {
  const [isLoaded, setIsLoaded] = useState(false);
  const [isInView, setIsInView] = useState(false);
  const imgRef = useRef<HTMLImageElement>(null);

  useEffect(() => {
    const observer = new IntersectionObserver(
      ([entry]) => {
        if (entry.isIntersecting) {
          setIsInView(true);
          observer.disconnect();
        }
      },
      { threshold: 0.1 }
    );

    if (imgRef.current) {
      observer.observe(imgRef.current);
    }

    return () => observer.disconnect();
  }, []);

  return (
    <div ref={imgRef} className={className}>
      {isInView && (
        <img
          src={src}
          alt={alt}
          onLoad={() => setIsLoaded(true)}
          className={`transition-opacity duration-300 ${
            isLoaded ? 'opacity-100' : 'opacity-0'
          }`}
        />
      )}
      {!isLoaded && isInView && (
        <div className="absolute inset-0 bg-gray-200 animate-pulse" />
      )}
    </div>
  );
};
```

## Product Management

### Product Status
- **active**: Available for purchase
- **inactive**: Temporarily unavailable
- **draft**: Not yet published

### Stock Management
```typescript
export interface StockInfo {
  product_id: string;
  quantity: number;
  reserved: number;
  available: number;
  low_stock_threshold: number;
  backorder_allowed: boolean;
}
```

### Price Management
```typescript
export interface PriceInfo {
  product_id: string;
  base_price: number;
  sale_price?: number;
  compare_at_price?: number;
  currency: string;
  tax_included: boolean;
}
```

## Search and Filtering

### Search Fields
- Product name
- Description
- Vendor
- Tags
- Category

### Filter Options
- Price range
- Category
- Vendor
- Availability
- Featured products
- Weight range

### Search Implementation
```typescript
export const useProductSearch = (query: string, filters: ProductFilters) => {
  return useQuery({
    queryKey: ['products', 'search', query, filters],
    queryFn: async () => {
      const response = await supabase
        .from('products')
        .select('*')
        .textSearch('name,description', query)
        .eq('status', 'active')
        .range(filters.offset, filters.offset + filters.limit - 1);
      
      return response.data;
    },
    enabled: !!query || Object.keys(filters).length > 0
  });
};
```

## Product Recommendations

### Related Products
```typescript
export const getRelatedProducts = async (productId: string, limit = 4) => {
  const { data: product } = await supabase
    .from('products')
    .select('category_id, tags')
    .eq('id', productId)
    .single();

  if (!product) return [];

  const { data: related } = await supabase
    .from('products')
    .select('*')
    .eq('category_id', product.category_id)
    .neq('id', productId)
    .eq('status', 'active')
    .limit(limit);

  return related || [];
};
```

### Featured Products
```typescript
export const getFeaturedProducts = async (limit = 6) => {
  const { data } = await supabase
    .from('featured_products')
    .select(`
      *,
      product:products(*)
    `)
    .eq('status', 'active')
    .order('sort_order')
    .limit(limit);

  return data?.map(item => item.product).filter(Boolean) || [];
};
```

## World Cup 2026 Special Products

### Special Categories
- Team jerseys
- Collectible figures
- Limited edition items
- Country-specific products

### Special Features
- Limited stock
- Pre-order availability
- Special pricing
- Exclusive packaging

## Data Migration Notes

1. **Image URLs**: Update all image URLs to new CDN
2. **Product IDs**: Maintain consistency with existing orders
3. **Categories**: Map existing categories to new structure
4. **Pricing**: Verify all prices are correct
5. **Stock**: Update stock quantities
6. **Featured**: Mark featured products
7. **SEO**: Update product handles for SEO
8. **Tags**: Add relevant tags for search
